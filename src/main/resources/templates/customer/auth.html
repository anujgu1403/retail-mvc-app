<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Authentication | Retail App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8f9fa; }
    </style>
</head>
<body>

<!-- Navigation Toggle -->
<div class="container-fluid bg-dark text-white py-3">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center">
            <h5 class="mb-0">Retail Authentication</h5>
            <div class="btn-group" role="group">
                <button type="button"
                        th:class="${isLoginPage} ? 'btn btn-outline-light active' : 'btn btn-outline-light'"
                        id="loginBtn">
                    Login
                </button>
                <button type="button"
                        th:class="${!isLoginPage} ? 'btn btn-outline-light active' : 'btn btn-outline-light'"
                        id="registerBtn">
                    Register
                </button>
            </div>
        </div>
    </div>
</div>

<!-- LOGIN PAGE -->
<div id="loginPage" class="container py-5" th:style="${isLoginPage} ? 'display: block' : 'display: none'">
    <div class="row justify-content-center align-items-center" style="min-height: 80vh;">
        <div class="col-lg-10">
            <div class="card border-0 shadow-lg">
                <div class="row g-0">
                    <!-- Left Side - Info -->
                    <div class="col-md-6 d-none d-md-block bg-primary text-white p-5">
                        <div class="h-100 d-flex flex-column justify-content-center">
                            <div class="text-center mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="currentColor"
                                     class="bi bi-shield-lock-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                          d="M8 0c-.69 0-1.843.265-2.928.56-1.11.3-2.229.655-2.887.87a1.54 1.54 0 0 0-1.044 1.262c-.596 4.477.787 7.795 2.465 9.99a11.8 11.8 0 0 0 2.517 2.453c.386.273.744.482 1.048.625.28.132.581.24.829.24s.548-.108.829-.24a7 7 0 0 0 1.048-.625 11.8 11.8 0 0 0 2.517-2.453c1.678-2.195 3.061-5.513 2.465-9.99a1.54 1.54 0 0 0-1.044-1.263 63 63 0 0 0-2.887-.87C9.843.266 8.69 0 8 0m0 5a1.5 1.5 0 0 1 .5 2.915l.385 1.99a.5.5 0 0 1-.491.595h-.788a.5.5 0 0 1-.49-.595l.384-1.99A1.5 1.5 0 0 1 8 5"/>
                                </svg>
                            </div>
                            <h2 class="text-center mb-4">Welcome Back!</h2>
                            <p class="lead text-center">Access your account to continue shopping with us.</p>
                            <hr class="my-4 bg-white opacity-25">
                            <div class="mt-4">
                                <div class="d-flex align-items-center mb-3">
                                    <span class="badge bg-light text-primary rounded-circle p-2 me-3">✓</span>
                                    <span>Secure authentication</span>
                                </div>
                                <div class="d-flex align-items-center mb-3">
                                    <span class="badge bg-light text-primary rounded-circle p-2 me-3">✓</span>
                                    <span>Fast & easy checkout</span>
                                </div>
                                <div class="d-flex align-items-center">
                                    <span class="badge bg-light text-primary rounded-circle p-2 me-3">✓</span>
                                    <span>Order tracking</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Side - Login Form -->
                    <div class="col-md-6 p-5">
                        <div class="text-center mb-4">
                            <h3 class="fw-bold text-dark">Sign In</h3>
                            <p class="text-muted">Enter your credentials to access your account</p>
                        </div>

                        <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>
                        <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>

                        <form th:action="@{/login}" th:object="${customer}" method="post">
                            <div class="mb-4">
                                <label for="loginEmail" class="form-label fw-semibold">Email Address</label>
                                <div class="input-group input-group-lg">
                                    <span class="input-group-text bg-light border-end-0">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                             class="bi bi-envelope" viewBox="0 0 16 16">
                                            <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"/>
                                        </svg>
                                    </span>
                                    <input type="email" th:field="*{email}" class="form-control form-control-lg border-start-0"
                                           id="loginEmail" placeholder="you@example.com" required>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label for="loginPassword" class="form-label fw-semibold">Password</label>
                                <div class="input-group input-group-lg">
                                    <span class="input-group-text bg-light border-end-0">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                             class="bi bi-lock" viewBox="0 0 16 16">
                                            <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2m3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2M5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1"/>
                                        </svg>
                                    </span>
                                    <input type="password" th:field="*{password}" class="form-control form-control-lg border-start-0"
                                           id="loginPassword" placeholder="Enter your password" required>
                                </div>
                            </div>

                            <div class="mb-4 d-flex justify-content-between align-items-center">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="rememberMe">
                                    <label class="form-check-label text-muted" for="rememberMe">Remember me</label>
                                </div>
                                <a href="#" class="text-decoration-none">Forgot password?</a>
                            </div>

                            <button type="submit" class="btn btn-primary btn-lg w-100 mb-3">Sign In</button>

                            <div class="text-center">
                                <p class="text-muted mb-0">
                                    Don't have an account?
                                    <a href="#" class="text-decoration-none fw-semibold" onclick="showRegister(); return false;">Create Account</a>
                                </p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- REGISTER PAGE -->
<div id="registerPage" class="container py-5" th:style="${!isLoginPage} ? 'display: block' : 'display: none'">
    <div class="row justify-content-center align-items-center" style="min-height: 80vh;">
        <div class="col-lg-10">
            <div class="card border-0 shadow-lg">
                <div class="row g-0">
                    <!-- Left Side - Register Form -->
                    <div class="col-md-6 p-5">
                        <div class="text-center mb-4">
                            <h3 class="fw-bold text-dark">Create Account</h3>
                            <p class="text-muted">Join us today and start shopping</p>
                        </div>

                        <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

                        <form th:action="@{/register}" th:object="${customer}" method="post">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-semibold">First Name</label>
                                    <input type="text" th:field="*{firstName}" class="form-control form-control-lg"
                                           placeholder="John" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-semibold">Last Name</label>
                                    <input type="text" th:field="*{lastName}" class="form-control form-control-lg"
                                           placeholder="Doe" required>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label class="form-label fw-semibold">Email Address</label>
                                <div class="input-group input-group-lg">
                                    <span class="input-group-text bg-light border-end-0">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                             class="bi bi-envelope" viewBox="0 0 16 16">
                                            <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"/>
                                        </svg>
                                    </span>
                                    <input type="email" th:field="*{email}" class="form-control form-control-lg border-start-0"
                                           placeholder="you@example.com" required>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label class="form-label fw-semibold">Password</label>
                                <div class="input-group input-group-lg">
                                    <span class="input-group-text bg-light border-end-0">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                             class="bi bi-lock" viewBox="0 0 16 16">
                                            <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2m3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2M5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1"/>
                                        </svg>
                                    </span>
                                    <input type="password" th:field="*{password}" class="form-control form-control-lg border-start-0"
                                           placeholder="Create a strong password" required>
                                </div>
                                <small class="text-muted">Must be at least 8 characters</small>
                            </div>

                            <div class="mb-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="agreeTerms" required>
                                    <label class="form-check-label text-muted" for="agreeTerms">
                                        I agree to the <a href="#" class="text-decoration-none">Terms of Service</a> and
                                        <a href="#" class="text-decoration-none">Privacy Policy</a>
                                    </label>
                                </div>
                            </div>

                            <button type="submit" class="btn btn-success btn-lg w-100 mb-3">Create Account</button>

                            <div class="text-center">
                                <p class="text-muted mb-0">
                                    Already have an account?
                                    <a href="#" class="text-decoration-none fw-semibold" onclick="showLogin(); return false;">Sign In</a>
                                </p>
                            </div>
                        </form>
                    </div>

                    <!-- Right Side - Info -->
                    <div class="col-md-6 d-none d-md-block bg-success text-white p-5">
                        <div class="h-100 d-flex flex-column justify-content-center">
                            <div class="text-center mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="currentColor"
                                     class="bi bi-person-plus-fill" viewBox="0 0 16 16">
                                    <path d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                                    <path fill-rule="evenodd"
                                          d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5"/>
                                </svg>
                            </div>
                            <h2 class="text-center mb-4">Join Our Community</h2>
                            <p class="lead text-center">Unlock exclusive deals and personalized shopping.</p>
                            <hr class="my-4 bg-white opacity-25">
                            <div class="mt-4">
                                <div class="d-flex align-items-center mb-3">
                                    <span class="badge bg-light text-success rounded-circle p-2 me-3">✓</span>
                                    <span>Free account setup</span>
                                </div>
                                <div class="d-flex align-items-center mb-3">
                                    <span class="badge bg-light text-success rounded-circle p-2 me-3">✓</span>
                                    <span>Exclusive discounts</span>
                                </div>
                                <div class="d-flex align-items-center mb-3">
                                    <span class="badge bg-light text-success rounded-circle p-2 me-3">✓</span>
                                    <span>Wish list & favorites</span>
                                </div>
                                <div class="d-flex align-items-center">
                                    <span class="badge bg-light text-success rounded-circle p-2 me-3">✓</span>
                                    <span>Fast checkout</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function showLogin() {
        document.getElementById('loginPage').style.display = 'block';
        document.getElementById('registerPage').style.display = 'none';
        document.getElementById('loginBtn').classList.add('active');
        document.getElementById('registerBtn').classList.remove('active');
    }

    function showRegister() {
        document.getElementById('loginPage').style.display = 'none';
        document.getElementById('registerPage').style.display = 'block';
        document.getElementById('registerBtn').classList.add('active');
        document.getElementById('loginBtn').classList.remove('active');
    }

    document.getElementById('loginBtn').addEventListener('click', showLogin);
    document.getElementById('registerBtn').addEventListener('click', showRegister);
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>